<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="icon" href="assets/img.png"/>
  <meta charset="UTF-8">
  <meta name="description" content="æ—æ·±æ—¶è§‰å¯’çš„ä¸ªäººç½‘ç«™">
  <meta name="keywords" content="æ—æ·±æ—¶è§‰å¯’, ä¸ªäººä¸»é¡µ, Java, å‰ç«¯, HTML, CSS, JavaScript">
  <meta name="author" content="æ—æ·±æ—¶è§‰å¯’">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—æ·±æ—¶è§‰å¯’</title>
  <link rel="stylesheet" href="assets/index.css">
</head>
<body style="width: 100vw;height: 75vh;display: flex;justify-content: center;align-items: center">
<main>
  <p style="font-size: 2rem">ä½ å¥½ï¼Œæ¬¢è¿è®¿é—®æˆ‘çš„ä¸»é¡µ <span id="toggle-theme">ğŸ </span>ã€‚</p>

  <ul>
    <li><a href="https://blog.ikangjia.cn" target="_blank">åšå®¢</a></li>
    <li><a href="https://ikangjia.notion.site/9195ba6bf1f445c8b1abcdf47bf90601" target="_blank">æŠ€æœ¯ç¬”è®°</a></li>
    <li><a href="https://ikangjia.cn/resume" target="_blank">ç®€å†</a></li>
    <li><a href="mailto:ikangjia.cn@outlook.com">å‘é‚®ä»¶ç»™æˆ‘</a></li>
  </ul>
</main>

<script>
    console.log(`%cæœç„¶è¿˜æ˜¯è¢«ä½ å‘ç°äº†å½©è›‹~W `,'color:red',)
    console.log(`%cwindow.atob('aWthbmdqaWEtY24=')`,
        'color:#6944ba;background:#f6f6f7'
    )
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.classList.add('dark')
    } else {
        document.documentElement.classList.remove('dark')
    }

    document.getElementById('toggle-theme').addEventListener('click', (e) => {
        toggleTheme(e)
    })

    /**
     * åˆ‡æ¢ä¸»é¢˜è‰²ï¼Œhtmlæ ‡ç­¾åˆ‡æ¢darkç±»
     */
    function toggleDark() {
        document.documentElement.classList.toggle('dark')
    }

    /**
     * åˆ‡æ¢ä¸»é¢˜è‰²ï¼Œæ‰©æ•£æ¸å˜åŠ¨ç”»
     * @param event ç‚¹å‡»äº‹ä»¶
     */
    function toggleTheme(event) {
        // å¦‚æœå½“å‰é¡µé¢æ˜¯æš—è‰²ï¼Œåˆ™åˆ‡æ¢ä¸ºäº®è‰²ï¼›å¦‚æœå½“å‰é¡µé¢æ˜¯äº®è‰²ï¼Œåˆ™åˆ‡æ¢ä¸ºæš—è‰²
        const willDark = !document.documentElement.classList.contains('dark')
        // æµè§ˆå™¨æ–°ç‰¹æ€§ä¸æ”¯æŒ æˆ–è€… å¼€å¯äº†åŠ¨ç”»å‡å¼±
        if (!document.startViewTransition || window.matchMedia(`(prefers-reduced-motion: reduce)`).matches) {
            toggleDark()
            return
        }

        // å¼€å§‹åŠ è½½ ViewTransition æ‰©æ•£åŠ¨ç”»
        const transition = document.startViewTransition(() => {
            toggleDark()
        })

        // ä¼ å…¥ç‚¹å‡»äº‹ä»¶ï¼Œä»ç‚¹å‡»å¤„å¼€å§‹æ‰©æ•£ã€‚å¦åˆ™ï¼Œä»å³ä¸Šè§’å¼€å§‹æ‰©æ•£
        const x = event?.clientX ?? window.innerWidth
        const y = event?.clientY ?? 0

        const endRadius = Math.hypot(Math.max(x, innerWidth - x), Math.max(y, innerHeight - y))
        void transition.ready.then(() => {
            const clipPath = [`circle(0px at ${x}px ${y}px)`, `circle(${endRadius}px at ${x}px ${y}px)`]
            document.documentElement.animate(
                {clipPath: willDark ? clipPath : [...clipPath].reverse()},
                {
                    duration: 500,
                    easing: 'ease-in',
                    pseudoElement: willDark ? '::view-transition-new(root)' : '::view-transition-old(root)'
                }
            )
        })
    }
</script>
</body>
</html>